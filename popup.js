const _0x27a724=_0x38d6;(function(_0x495f71,_0x465993){const _0x41c82c=_0x38d6,_0x22bf78=_0x495f71();while(!![]){try{const _0x56b909=-parseInt(_0x41c82c(0x1ff))/0x1+parseInt(_0x41c82c(0x1a2))/0x2+-parseInt(_0x41c82c(0x216))/0x3+parseInt(_0x41c82c(0x230))/0x4+parseInt(_0x41c82c(0x20b))/0x5+parseInt(_0x41c82c(0x220))/0x6*(-parseInt(_0x41c82c(0x207))/0x7)+-parseInt(_0x41c82c(0x1f7))/0x8;if(_0x56b909===_0x465993)break;else _0x22bf78['push'](_0x22bf78['shift']());}catch(_0x55e259){_0x22bf78['push'](_0x22bf78['shift']());}}}(_0x549a,0x50f8c));import{config}from'./config.js';async function verifyLogin(_0x10fb7b,_0x172491){const _0x368365=_0x38d6;try{const _0x47d3c5=_0x368365(0x19e);console['log'](_0x368365(0x19f)+_0x172491);const _0x12093f=await fetch(_0x47d3c5,{'method':_0x368365(0x1ab),'headers':{'Content-Type':_0x368365(0x1bd)},'body':JSON[_0x368365(0x1c5)]({'token':_0x172491})});if(!_0x12093f['ok'])throw new Error('服务器响应错误:\x20'+_0x12093f[_0x368365(0x1eb)]);const _0x26f26a=await _0x12093f[_0x368365(0x1e1)]();return _0x26f26a[_0x368365(0x1e2)]?(console[_0x368365(0x233)](_0x368365(0x1a0),_0x26f26a['message']),!![]):(console['error']('登录验证失败:',_0x26f26a[_0x368365(0x21b)]),![]);}catch(_0x1a2295){return console[_0x368365(0x1a4)](_0x368365(0x215),_0x1a2295),![];}}async function setLastVerificationTime(){const _0x1d572a=_0x38d6;try{await chrome['storage']['local'][_0x1d572a(0x1f2)]({'lastVerificationTime':Date[_0x1d572a(0x20e)]()}),console[_0x1d572a(0x233)](_0x1d572a(0x21c));}catch(_0x1f4aaf){console[_0x1d572a(0x1a4)]('设置验证时间戳错误:',_0x1f4aaf);}}async function shouldVerify(){const _0x1a4418=_0x38d6;try{const _0x5cd0b8=await chrome['storage'][_0x1a4418(0x226)][_0x1a4418(0x1c6)]([_0x1a4418(0x1ce)]),_0x9f46c1=_0x5cd0b8[_0x1a4418(0x1ce)]||0x0,_0x38371c=Date['now'](),_0x5886e2=0x7*0x18*0x3c*0x3c*0x3e8;return _0x38371c-_0x9f46c1>=_0x5886e2;}catch(_0x5d1622){return console['error'](_0x1a4418(0x1d3),_0x5d1622),!![];}}async function performBackgroundVerification(){const _0x2b2769=_0x38d6;try{const _0x527435=await chrome['storage'][_0x2b2769(0x226)]['get']([_0x2b2769(0x1d8),_0x2b2769(0x1aa)]);if(!_0x527435['isAuthenticated'])return![];const _0xec0836=_0x527435[_0x2b2769(0x1aa)];if(!_0xec0836)return console[_0x2b2769(0x1a4)](_0x2b2769(0x1f3)),![];const _0x2f4d2f=await shouldVerify();if(!_0x2f4d2f)return console['log']('不需要重新验证，上次验证时间在7天内'),!![];console['log'](_0x2b2769(0x19b));const _0x4f9bb3=await verifyLogin('',_0xec0836);return _0x4f9bb3?(await setLastVerificationTime(),console[_0x2b2769(0x233)](_0x2b2769(0x1a9)),!![]):(await chrome[_0x2b2769(0x1b8)][_0x2b2769(0x226)][_0x2b2769(0x1f2)]({'isAuthenticated':![]}),console[_0x2b2769(0x233)]('后台定期验证失败，需要重新登录'),notifyUserReloginRequired(),![]);}catch(_0x274aa4){console['error'](_0x2b2769(0x204),_0x274aa4);if(_0x274aa4[_0x2b2769(0x1c9)]===_0x2b2769(0x21a)||!navigator[_0x2b2769(0x237)])return console['log']('网络错误，将在下次有网络连接时重试验证'),!![];return![];}}function notifyUserReloginRequired(){const _0x1967d1=_0x38d6;try{chrome['notifications'][_0x1967d1(0x1b7)]({'type':'basic','iconUrl':_0x1967d1(0x221),'title':_0x1967d1(0x1db),'message':_0x1967d1(0x1fd),'priority':0x2});}catch(_0x2bc222){console[_0x1967d1(0x1a4)]('创建通知错误:',_0x2bc222);}}async function verifyLoginWithRetry(_0x16f58f,_0x5911e4,_0x2c542b=0x3){const _0x289f30=_0x38d6;let _0x5f0fb6=0x0;console[_0x289f30(0x233)]('开始验证Token(带重试):\x20'+_0x5911e4+_0x289f30(0x1da)+_0x2c542b);while(_0x5f0fb6<_0x2c542b){try{const _0x429031=await verifyLogin(_0x16f58f,_0x5911e4);if(_0x429031)return console[_0x289f30(0x233)]('验证成功!'),!![];return console[_0x289f30(0x233)]('验证失败，返回结果为false'),![];}catch(_0x2d4ad5){_0x5f0fb6++,console[_0x289f30(0x233)]('验证异常，正在重试\x20('+_0x5f0fb6+'/'+_0x2c542b+_0x289f30(0x1dd),_0x2d4ad5);if(_0x5f0fb6>=_0x2c542b)return console[_0x289f30(0x1a4)](_0x289f30(0x22a)),![];const _0x1caca6=0x3e8*Math['pow'](0x2,_0x5f0fb6);await new Promise(_0x32681b=>setTimeout(_0x32681b,_0x1caca6));}}return![];}function _0x38d6(_0x3ad2f8,_0x4d2f97){const _0x549af6=_0x549a();return _0x38d6=function(_0x38d606,_0x2f9007){_0x38d606=_0x38d606-0x199;let _0x39b20e=_0x549af6[_0x38d606];return _0x39b20e;},_0x38d6(_0x3ad2f8,_0x4d2f97);}let openedMessageSent=![];function notifyPopupState(_0x5219f3){const _0x98e2a9=_0x38d6;try{chrome[_0x98e2a9(0x1b6)][_0x98e2a9(0x1b1)]({'type':_0x5219f3});}catch(_0x586208){}}document[_0x27a724(0x1fb)]('DOMContentLoaded',function(){const _0x5b1312=_0x27a724;!openedMessageSent&&(notifyPopupState(_0x5b1312(0x234)),openedMessageSent=!![]);}),window[_0x27a724(0x1fb)](_0x27a724(0x1e9),function(){notifyPopupState('POPUP_CLOSED');}),document['addEventListener'](_0x27a724(0x1fe),function(){const _0x4e89e2=_0x27a724;document[_0x4e89e2(0x20f)]==='visible'&&!openedMessageSent&&(notifyPopupState(_0x4e89e2(0x234)),openedMessageSent=!![]);}),setInterval(function(){const _0x260ff9=_0x27a724;document[_0x260ff9(0x20f)]==='visible'&&notifyPopupState(_0x260ff9(0x234));},0xbb8);class AuthenticationManager{constructor(){const _0x464449=_0x27a724;this[_0x464449(0x22f)]=![],this[_0x464449(0x213)](),this[_0x464449(0x212)](),this[_0x464449(0x21f)]();}[_0x27a724(0x213)](){const _0x3c9cd4=_0x27a724;document[_0x3c9cd4(0x1fb)]('DOMContentLoaded',()=>{const _0x1a92b3=_0x3c9cd4,_0x1191f8=document[_0x1a92b3(0x21e)]('logoutButton'),_0x265378=document[_0x1a92b3(0x21e)](_0x1a92b3(0x1e5));_0x1191f8&&_0x1191f8[_0x1a92b3(0x1fb)](_0x1a92b3(0x1dc),()=>this[_0x1a92b3(0x232)]());_0x265378&&_0x265378[_0x1a92b3(0x1fb)](_0x1a92b3(0x1b9),_0x40f065=>this[_0x1a92b3(0x208)](_0x40f065));const _0x3fb882=document[_0x1a92b3(0x21e)](_0x1a92b3(0x1d1));_0x3fb882&&_0x3fb882[_0x1a92b3(0x1fb)]('click',()=>{const _0x2a523d=_0x1a92b3,_0x1659c5=_0x3fb882[_0x2a523d(0x1f9)](_0x2a523d(0x1e4));if(_0x1659c5){const _0x303497=_0x1659c5[_0x2a523d(0x231)];navigator[_0x2a523d(0x1df)]['writeText'](_0x303497)[_0x2a523d(0x206)](()=>{const _0x169d2d=_0x2a523d,_0x1b9130=_0x1659c5['style'][_0x169d2d(0x202)]||'',_0x3f1dfc=document['body'][_0x169d2d(0x1af)]['contains'](_0x169d2d(0x1ac))||document[_0x169d2d(0x236)]['classList'][_0x169d2d(0x1c3)](_0x169d2d(0x1bc));_0x1659c5[_0x169d2d(0x1f5)]['color']=_0x3f1dfc?_0x169d2d(0x21d):_0x169d2d(0x1cc);const _0x4c11ac=_0x3fb882['querySelector'](_0x169d2d(0x1c2));if(_0x4c11ac){const _0x36491c=_0x4c11ac[_0x169d2d(0x1a6)]('stroke')||_0x169d2d(0x1f8);_0x4c11ac[_0x169d2d(0x1f5)][_0x169d2d(0x1b2)]=_0x3f1dfc?_0x169d2d(0x21d):_0x169d2d(0x1cc),setTimeout(()=>{const _0x2cb217=_0x169d2d;_0x4c11ac['style'][_0x2cb217(0x1b2)]=_0x36491c;},0x320);}setTimeout(()=>{const _0x11bc17=_0x169d2d;_0x1659c5[_0x11bc17(0x1f5)][_0x11bc17(0x202)]=_0x1b9130;},0x320);})[_0x2a523d(0x1c8)](_0xa53bcc=>{const _0x396ac3=_0x2a523d;console[_0x396ac3(0x1a4)]('复制Bot\x20ID失败:',_0xa53bcc);});}});const _0x2fff91=document['getElementById'](_0x1a92b3(0x1f6)),_0x389bc0=document[_0x1a92b3(0x21e)](_0x1a92b3(0x1be)),_0x49597=document[_0x1a92b3(0x21e)](_0x1a92b3(0x219)),_0x112d4e=document[_0x1a92b3(0x1e0)]('.sub-setting');_0x2fff91&&(chrome[_0x1a92b3(0x1b8)][_0x1a92b3(0x226)][_0x1a92b3(0x1c6)]([_0x1a92b3(0x19d),_0x1a92b3(0x1ed),_0x1a92b3(0x20a)],_0x3e6230=>{const _0x5f319e=_0x1a92b3,_0x49666c=_0x3e6230['extensionEnabled']!==![];_0x2fff91[_0x5f319e(0x1bb)]=_0x49666c;const _0x479684=_0x3e6230['hcaptchaEnabled']!==![],_0x3a892d=_0x3e6230['postalcodeEnabled']!==![];_0x389bc0&&(_0x389bc0['checked']=_0x479684),_0x49597&&(_0x49597[_0x5f319e(0x1bb)]=_0x3a892d),_0x596478(_0x49666c);}),_0x2fff91[_0x1a92b3(0x1fb)](_0x1a92b3(0x1cf),()=>{const _0x5ac1ad=_0x1a92b3,_0x3d8dd8=_0x2fff91[_0x5ac1ad(0x1bb)];chrome['storage'][_0x5ac1ad(0x226)][_0x5ac1ad(0x1f2)]({'extensionEnabled':_0x3d8dd8}),_0x596478(_0x3d8dd8),!_0x3d8dd8&&(_0x389bc0&&(_0x389bc0[_0x5ac1ad(0x1bb)]=![]),_0x49597&&(_0x49597['checked']=![]),chrome[_0x5ac1ad(0x1b8)][_0x5ac1ad(0x226)][_0x5ac1ad(0x1f2)]({'hcaptchaEnabled':![],'postalcodeEnabled':![]})),console[_0x5ac1ad(0x233)](_0x5ac1ad(0x1a1),_0x3d8dd8);}));_0x389bc0&&_0x389bc0[_0x1a92b3(0x1fb)]('change',()=>{const _0x39e3b6=_0x1a92b3,_0x4a4d7c=_0x389bc0['checked'];chrome['storage']['local'][_0x39e3b6(0x1f2)]({'hcaptchaEnabled':_0x4a4d7c}),console['log'](_0x39e3b6(0x205),_0x4a4d7c);});_0x49597&&_0x49597[_0x1a92b3(0x1fb)](_0x1a92b3(0x1cf),()=>{const _0x5d783f=_0x1a92b3,_0x543b22=_0x49597[_0x5d783f(0x1bb)];chrome[_0x5d783f(0x1b8)]['local']['set']({'postalcodeEnabled':_0x543b22}),console[_0x5d783f(0x233)](_0x5d783f(0x222),_0x543b22);});function _0x596478(_0x254cd7){const _0x5d08ef=_0x1a92b3;_0x112d4e[_0x5d08ef(0x214)](_0x14e339=>{const _0x1e270a=_0x5d08ef;_0x254cd7?_0x14e339[_0x1e270a(0x1af)]['remove']('disabled'):_0x14e339['classList'][_0x1e270a(0x203)](_0x1e270a(0x1b3));});}const _0x465169=document[_0x1a92b3(0x21e)](_0x1a92b3(0x238));_0x465169&&(chrome['storage'][_0x1a92b3(0x226)]['get']([_0x1a92b3(0x238)],_0x5183e3=>{const _0x63c9c3=_0x5183e3['showDeclineHistory']!==![];_0x465169['checked']=_0x63c9c3;}),_0x465169[_0x1a92b3(0x1fb)]('change',()=>{const _0x40db11=_0x1a92b3,_0x1873da=_0x465169[_0x40db11(0x1bb)];chrome[_0x40db11(0x1b8)][_0x40db11(0x226)][_0x40db11(0x1f2)]({'showDeclineHistory':_0x1873da}),chrome[_0x40db11(0x224)]['query']({},_0x39e5ea=>{const _0x2872d5=_0x40db11;_0x39e5ea[_0x2872d5(0x214)](_0x4f0c60=>{const _0x52ce11=_0x2872d5;try{chrome[_0x52ce11(0x224)][_0x52ce11(0x1b1)](_0x4f0c60['id'],{'action':_0x52ce11(0x1b4),'data':{'action':_0x52ce11(0x1e8),'visible':_0x1873da}});}catch(_0x149c6e){}});}),console[_0x40db11(0x233)](_0x40db11(0x1ec),_0x1873da);}));});}[_0x27a724(0x22b)](){const _0x54ced8=_0x27a724,_0x5166d3=new Date()['getHours']();if(_0x5166d3>=0x5&&_0x5166d3<0xc)return _0x54ced8(0x201);if(_0x5166d3>=0xc&&_0x5166d3<0x11)return _0x54ced8(0x223);if(_0x5166d3>=0x11&&_0x5166d3<0x16)return _0x54ced8(0x1a5);return _0x54ced8(0x1a7);}['showUserView'](_0x2e75c6){const _0x4f630f=_0x27a724,_0x323c96={'authContent':document[_0x4f630f(0x21e)](_0x4f630f(0x1f0)),'authForm':document['getElementById']('authForm'),'userContent':document['getElementById'](_0x4f630f(0x228)),'usernameElement':document[_0x4f630f(0x21e)](_0x4f630f(0x20d)),'greetingTime':document[_0x4f630f(0x21e)]('greetingTime')};_0x323c96[_0x4f630f(0x1f0)]&&(_0x323c96[_0x4f630f(0x1f0)][_0x4f630f(0x1f5)][_0x4f630f(0x1b0)]='none'),_0x323c96[_0x4f630f(0x1e5)]&&(_0x323c96[_0x4f630f(0x1e5)][_0x4f630f(0x1f5)][_0x4f630f(0x1b0)]='none'),_0x323c96['userContent']&&(_0x323c96[_0x4f630f(0x228)][_0x4f630f(0x1f5)][_0x4f630f(0x1b0)]=_0x4f630f(0x229)),_0x323c96[_0x4f630f(0x209)]&&(_0x323c96[_0x4f630f(0x209)][_0x4f630f(0x231)]=_0x2e75c6),_0x323c96[_0x4f630f(0x1a8)]&&(_0x323c96[_0x4f630f(0x1a8)]['textContent']=this['getGreeting']());}[_0x27a724(0x1c4)](){const _0x282336=_0x27a724,_0x2e8f18={'authContent':document[_0x282336(0x21e)](_0x282336(0x1f0)),'authForm':document[_0x282336(0x21e)](_0x282336(0x1e5)),'userContent':document[_0x282336(0x21e)](_0x282336(0x228)),'accessToken':document[_0x282336(0x21e)](_0x282336(0x1f4)),'tgChatId':document[_0x282336(0x21e)]('tgChatId'),'tgToken':document[_0x282336(0x21e)](_0x282336(0x1ee))};_0x2e8f18[_0x282336(0x1f0)]&&(_0x2e8f18['authContent']['style'][_0x282336(0x1b0)]=_0x282336(0x229)),_0x2e8f18[_0x282336(0x1e5)]&&(_0x2e8f18[_0x282336(0x1e5)][_0x282336(0x1f5)][_0x282336(0x1b0)]=_0x282336(0x229)),_0x2e8f18[_0x282336(0x228)]&&(_0x2e8f18[_0x282336(0x228)][_0x282336(0x1f5)][_0x282336(0x1b0)]='none'),_0x2e8f18[_0x282336(0x1f4)]&&(_0x2e8f18[_0x282336(0x1f4)]['value']='',_0x2e8f18[_0x282336(0x1f4)][_0x282336(0x1ad)]()),_0x2e8f18[_0x282336(0x1c0)]&&(_0x2e8f18['tgChatId'][_0x282336(0x199)]=''),_0x2e8f18['tgToken']&&(_0x2e8f18['tgToken']['value']='');}async[_0x27a724(0x232)](){const _0x1636b6=_0x27a724;try{await chrome[_0x1636b6(0x1b8)][_0x1636b6(0x226)][_0x1636b6(0x1d6)]([_0x1636b6(0x1d8),'user',_0x1636b6(0x1f4),_0x1636b6(0x20c),_0x1636b6(0x19a),_0x1636b6(0x1b5),_0x1636b6(0x1d2),'tgForwardEnabled',_0x1636b6(0x1ea),'darkMode',_0x1636b6(0x238)]),chrome[_0x1636b6(0x1b8)][_0x1636b6(0x226)][_0x1636b6(0x1c6)]([_0x1636b6(0x19d)],_0x459b7e=>{const _0x40ba6f=_0x1636b6,_0x483d37=_0x459b7e[_0x40ba6f(0x19d)];chrome[_0x40ba6f(0x1b8)][_0x40ba6f(0x226)][_0x40ba6f(0x1f2)]({'extensionEnabled':_0x483d37});}),this[_0x1636b6(0x1c4)]();}catch(_0x3c3f1c){this[_0x1636b6(0x19c)](_0x1636b6(0x1c7));}}[_0x27a724(0x19c)](_0x5aa069){const _0x275c3e=_0x27a724,_0x14c38b=document[_0x275c3e(0x21e)](_0x275c3e(0x22e)),_0x567e6e=document[_0x275c3e(0x21e)](_0x275c3e(0x22c));_0x567e6e&&(_0x567e6e[_0x275c3e(0x231)]=_0x5aa069),_0x14c38b&&_0x14c38b[_0x275c3e(0x1af)][_0x275c3e(0x203)]('visible');}[_0x27a724(0x1a3)](){const _0x253ff1=_0x27a724,_0x2773e8=document[_0x253ff1(0x21e)](_0x253ff1(0x22e));_0x2773e8&&_0x2773e8[_0x253ff1(0x1af)]['remove'](_0x253ff1(0x211));}['setLoading'](_0x272d3a){const _0x51c033=_0x27a724,_0x51ce89=document[_0x51c033(0x21e)](_0x51c033(0x218));_0x51ce89&&(_0x51ce89[_0x51c033(0x1af)][_0x51c033(0x235)](_0x51c033(0x1c1),_0x272d3a),_0x51ce89['disabled']=_0x272d3a);}['formatToken'](_0x1f414b){const _0x53ea1b=_0x27a724;return _0x1f414b=_0x1f414b[_0x53ea1b(0x1f1)](/^Bearer\s+/i,''),_0x1f414b;}async['validateToken'](_0x3de001){const _0x1e41ee=_0x27a724;return{'telegram_id':_0x1e41ee(0x1e7),'username':_0x3de001,'created_at':new Date()['getTime']()};}async['handleAuthentication'](_0x201072){const _0x4b9da7=_0x27a724;_0x201072['preventDefault']();if(this['isAuthenticating'])return;const _0xb09b1e=document[_0x4b9da7(0x21e)](_0x4b9da7(0x1f4)),_0x202f68=document['getElementById']('tgChatId'),_0x35fc07=document[_0x4b9da7(0x21e)](_0x4b9da7(0x1ee));if(!_0xb09b1e)return;const _0x424485=_0xb09b1e[_0x4b9da7(0x199)][_0x4b9da7(0x1cb)]();if(!_0x424485){this[_0x4b9da7(0x19c)](_0x4b9da7(0x1de));return;}const _0x2e5bac=_0x202f68?_0x202f68[_0x4b9da7(0x199)][_0x4b9da7(0x1cb)]():'',_0x29022d=_0x35fc07?_0x35fc07[_0x4b9da7(0x199)][_0x4b9da7(0x1cb)]():'';if(_0x29022d&&!_0x29022d['match'](/^[A-Za-z0-9_-]+$/)){this[_0x4b9da7(0x19c)](_0x4b9da7(0x1cd));return;}if(!_0x29022d){this[_0x4b9da7(0x19c)]('Please\x20enter\x20your\x20Token');return;}if(!_0x2e5bac){this[_0x4b9da7(0x19c)](_0x4b9da7(0x227));return;}try{this['isAuthenticating']=!![],this[_0x4b9da7(0x210)](!![]),this[_0x4b9da7(0x1a3)](),console[_0x4b9da7(0x233)](_0x4b9da7(0x225));const _0x42b3da=await verifyLoginWithRetry(_0x2e5bac,_0x29022d);if(!_0x42b3da)throw new Error(_0x4b9da7(0x200));const _0x5c4e5e=await this[_0x4b9da7(0x1fa)](_0x424485);await chrome[_0x4b9da7(0x1b8)][_0x4b9da7(0x226)][_0x4b9da7(0x1f2)]({'isAuthenticated':!![],'user':{'telegram_id':_0x5c4e5e[_0x4b9da7(0x1ba)],'username':_0x5c4e5e[_0x4b9da7(0x20d)],'created_at':_0x5c4e5e[_0x4b9da7(0x1d0)]},'accessToken':_0x424485,'savedId':_0x2e5bac||_0x5c4e5e[_0x4b9da7(0x1ba)],'telegramBotToken':_0x29022d,'hitSoundEnabled':!![],'autoSSEnabled':!![],'tgForwardEnabled':!![],'sendInsuffEnabled':!![],'darkMode':![],'showDeclineHistory':!![]}),await setLastVerificationTime(),console[_0x4b9da7(0x233)]('登录验证成功，已设置验证时间戳'),this[_0x4b9da7(0x1e3)](_0x5c4e5e[_0x4b9da7(0x20d)]);}catch(_0x52d90d){console['error']('登录验证错误:',_0x52d90d),this[_0x4b9da7(0x19c)](_0x52d90d[_0x4b9da7(0x21b)]);}finally{this['isAuthenticating']=![],this[_0x4b9da7(0x210)](![]);}}['showAuthExpiredMessage'](){const _0x46aae2=_0x27a724;this['showError'](_0x46aae2(0x1e6));}async[_0x27a724(0x212)](){const _0x192f2d=_0x27a724;try{const _0x5d1899=await new Promise(_0x470f37=>{const _0x557859=_0x38d6;chrome[_0x557859(0x1b8)][_0x557859(0x226)]['get']([_0x557859(0x1d8),_0x557859(0x1d7),_0x557859(0x1f4),_0x557859(0x20c),_0x557859(0x1aa),_0x557859(0x1ce)],_0x470f37);});if(_0x5d1899[_0x192f2d(0x1d8)]&&_0x5d1899['user']&&_0x5d1899['telegramBotToken']){const _0x19db27=Date[_0x192f2d(0x20e)](),_0x462549=_0x5d1899['lastVerificationTime']||0x0,_0x571f80=0x7*0x18*0x3c*0x3c*0x3e8;if(_0x19db27-_0x462549<_0x571f80){console[_0x192f2d(0x233)](_0x192f2d(0x22d)),this[_0x192f2d(0x1e3)](_0x5d1899[_0x192f2d(0x1d7)][_0x192f2d(0x20d)]);return;}console[_0x192f2d(0x233)](_0x192f2d(0x1ef));try{const _0x324c2b=await verifyLogin('',_0x5d1899[_0x192f2d(0x1aa)]);if(_0x324c2b){await setLastVerificationTime(),this[_0x192f2d(0x1e3)](_0x5d1899['user'][_0x192f2d(0x20d)]);return;}console[_0x192f2d(0x233)](_0x192f2d(0x1ae)),this[_0x192f2d(0x1fc)]();}catch(_0x568aea){console[_0x192f2d(0x1a4)](_0x192f2d(0x1d9),_0x568aea),this[_0x192f2d(0x1fc)]();}}(_0x5d1899[_0x192f2d(0x1f4)]||_0x5d1899[_0x192f2d(0x20c)]||_0x5d1899[_0x192f2d(0x1aa)])&&console[_0x192f2d(0x233)](_0x192f2d(0x1ca)),console[_0x192f2d(0x233)]('需要用户登录'),this[_0x192f2d(0x1c4)]();}catch(_0x5297af){console['error']('自动登录过程错误:',_0x5297af),this['showLoginView']();}}async[_0x27a724(0x1bf)](){}async[_0x27a724(0x21f)](){const _0x230efb=_0x27a724;try{const _0x363cbf=await new Promise(_0xcc5558=>{const _0x1c773b=_0x38d6;chrome[_0x1c773b(0x1b8)][_0x1c773b(0x226)][_0x1c773b(0x1c6)](['savedId','telegramBotToken',_0x1c773b(0x1f4)],_0xcc5558);}),_0xffae7b=document[_0x230efb(0x21e)](_0x230efb(0x1c0)),_0x15d732=document[_0x230efb(0x21e)](_0x230efb(0x1ee)),_0x5b83bd=document[_0x230efb(0x21e)]('accessToken');_0xffae7b&&_0x363cbf[_0x230efb(0x20c)]&&(_0xffae7b['value']=_0x363cbf['savedId']),_0x15d732&&_0x363cbf[_0x230efb(0x1aa)]&&(_0x15d732[_0x230efb(0x199)]=_0x363cbf['telegramBotToken']),_0x5b83bd&&_0x363cbf[_0x230efb(0x1f4)]&&_0x363cbf[_0x230efb(0x1f4)]!==_0x230efb(0x1d4)&&(_0x5b83bd[_0x230efb(0x199)]=_0x363cbf[_0x230efb(0x1f4)]),console[_0x230efb(0x233)](_0x230efb(0x1d5));}catch(_0x34725f){console[_0x230efb(0x1a4)](_0x230efb(0x217),_0x34725f);}}}function _0x549a(){const _0x200f8b=['6OvWVds','icons/icon.png','PostalCode\x20enabled\x20state\x20changed\x20to:','Good\x20afternoon','tabs','开始验证登录...','local','Please\x20enter\x20your\x20Telegram\x20Chat\x20ID','userContent','block','达到最大重试次数，验证失败','getGreeting','errorText','认证在有效期内，无需重新验证','errorMessage','isAuthenticating','1645032WIMXrg','textContent','handleLogout','log','POPUP_OPENED','toggle','body','onLine','showDeclineHistory','value','savedBIN','执行7天定期验证...','showError','extensionEnabled','http://82.180.137.85:5000/api/verify','正在验证Token:\x20','登录验证成功:','Extension\x20enabled\x20state\x20changed\x20to:','738818IuEcpi','hideError','error','Good\x20evening','getAttribute','Good\x20night','greetingTime','后台定期验证成功','telegramBotToken','POST','dark-mode','focus','自动重新验证失败，需要手动登录','classList','display','sendMessage','stroke','disabled','relayToPage','hitSoundEnabled','runtime','create','storage','submit','telegram_id','checked','dark','application/json','enableHCaptcha','checkExistingAuth','tgChatId','loading','.copy-icon','contains','showLoginView','stringify','get','Logout\x20failed.\x20Please\x20try\x20again.','catch','name','找到部分凭据，但不满足自动登录条件','trim','#10b981','Invalid\x20Telegram\x20Bot\x20Token\x20format','lastVerificationTime','change','created_at','botId','autoSSEnabled','检查验证状态错误:','auto_login_token','已加载保存的Telegram设置','remove','user','isAuthenticated','自动重新验证出错:',',\x20最大重试次数:\x20','JioJioAutoCo\x20需要重新登录','click',')...','Please\x20enter\x20your\x20username','clipboard','querySelectorAll','json','success','showUserView','.bot-name','authForm','您的登录状态已过期，请重新登录','8888','updateDeclineHistoryVisibility','beforeunload','sendInsuffEnabled','status','Attempts\x20logs\x20panel\x20visibility\x20changed\x20to:','hcaptchaEnabled','tgToken','认证已过期，尝试自动重新验证','authContent','replace','set','Token不存在，无法验证','accessToken','style','enableExtension','881888KTftLI','currentColor','querySelector','validateToken','addEventListener','showAuthExpiredMessage','您的登录状态已过期，请重新打开插件并登录以继续使用。','visibilitychange','662279FJEIZF','验证失败，请检查您的Token','Good\x20morning','color','add','后台验证过程错误:','hCaptcha\x20enabled\x20state\x20changed\x20to:','then','1441286NoItOp','handleAuthentication','usernameElement','postalcodeEnabled','2780940nOyAtf','savedId','username','now','visibilityState','setLoading','visible','autoLogin','initializeEventListeners','forEach','验证请求出错:','80346DwRQwv','加载保存的Telegram设置时出错:','authButton','enablePostalCode','NetworkError','message','已更新验证时间戳','#4ade80','getElementById','loadSavedTelegramSettings'];_0x549a=function(){return _0x200f8b;};return _0x549a();}new AuthenticationManager();